# .9å›¾é¢„å¤„ç†å·¥å…· (NinePatch Preprocessor)

ä¸€ä¸ªç°ä»£åŒ–çš„ç½‘é¡µç‰ˆAndroid .9å›¾ï¼ˆNinePatchï¼‰é¢„å¤„ç†å·¥å…·ï¼Œæä¾›å®Œæ•´çš„.9å›¾è§£æã€éªŒè¯ã€é¢„è§ˆå’Œç¼–è¯‘åŠŸèƒ½ã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **ğŸ“ æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒæ‹–æ‹½ä¸Šä¼ å’Œç‚¹å‡»é€‰æ‹©ï¼Œå…¼å®¹PNGæ ¼å¼
- **ğŸ” è‡ªåŠ¨è§£æ**: æ™ºèƒ½è¯†åˆ«.9å›¾çš„æ‹‰ä¼¸åŒºåŸŸå’Œå†…å®¹åŒºåŸŸæ ‡è®°
- **âš¡ å®æ—¶é¢„è§ˆ**: åŠ¨æ€è°ƒæ•´å°ºå¯¸æŸ¥çœ‹æ‹‰ä¼¸æ•ˆæœ
- **ğŸ“ æ–‡æœ¬é¢„è§ˆ**: è¾“å…¥æ–‡æœ¬æŸ¥çœ‹.9å›¾ä½œä¸ºèƒŒæ™¯çš„å®é™…æ•ˆæœ
- **âœ… æ ¼å¼éªŒè¯**: å…¨é¢çš„æ ¼å¼æ£€æŸ¥å’Œé”™è¯¯æ£€æµ‹
- **ğŸ“¦ AAPTç¼–è¯‘**: ç¼–è¯‘ä¸ºAndroidç³»ç»Ÿå¯è¯†åˆ«çš„æ ¼å¼
- **ğŸ’¾ ä¸€é”®ä¸‹è½½**: ä¸‹è½½ç¼–è¯‘åçš„.9å›¾æ–‡ä»¶

### æŠ€æœ¯ç‰¹æ€§
- **ğŸ¨ ç°ä»£åŒ–UI**: åŸºäºReactå’ŒTailwind CSSçš„å“åº”å¼è®¾è®¡
- **ğŸ”§ é›¶é…ç½®**: æ— éœ€å®‰è£…ï¼Œç›´æ¥åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨
- **ğŸ“± ç§»åŠ¨å‹å¥½**: å®Œç¾æ”¯æŒæ¡Œé¢ç«¯ã€å¹³æ¿å’Œç§»åŠ¨è®¾å¤‡
- **ğŸš€ é«˜æ€§èƒ½**: ä½¿ç”¨Canvas APIè¿›è¡Œé«˜æ•ˆçš„åƒç´ çº§å¤„ç†
- **ğŸ›¡ï¸ ç±»å‹å®‰å…¨**: å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ

## ğŸš€ åœ¨çº¿ä½¿ç”¨

### å½“å‰å¯ç”¨åœ°å€
- **Manuså¹³å°**: https://tmusxfvu.manus.space
- **GitHub Pages**: https://your-username.github.io/ninepatch-tool (éƒ¨ç½²åå¯ç”¨)

> ğŸ’¡ **æç¤º**: å»ºè®®éƒ¨ç½²åˆ°æ‚¨è‡ªå·±çš„GitHub Pagesè·å¾—æ°¸ä¹…è®¿é—®åœ°å€

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ä»€ä¹ˆæ˜¯.9å›¾ï¼Ÿ

.9å›¾ï¼ˆNinePatchï¼‰æ˜¯Androidå¼€å‘ä¸­ä½¿ç”¨çš„ä¸€ç§ç‰¹æ®ŠPNGå›¾ç‰‡æ ¼å¼ï¼Œé€šè¿‡åœ¨å›¾ç‰‡è¾¹ç¼˜æ·»åŠ é»‘è‰²åƒç´ æ ‡è®°æ¥å®šä¹‰ï¼š
- **æ‹‰ä¼¸åŒºåŸŸ**: å›¾ç‰‡åœ¨ç¼©æ”¾æ—¶å“ªäº›éƒ¨åˆ†å¯ä»¥æ‹‰ä¼¸
- **å†…å®¹åŒºåŸŸ**: æ–‡æœ¬æˆ–å…¶ä»–å†…å®¹åº”è¯¥æ”¾ç½®åœ¨å“ªé‡Œ

### å¦‚ä½•åˆ¶ä½œ.9å›¾ï¼Ÿ

1. **å‡†å¤‡åŸå§‹å›¾ç‰‡**: åˆ›å»ºä½ æƒ³è¦çš„æŒ‰é’®ã€èƒŒæ™¯æˆ–UIå…ƒç´ 
2. **æ·»åŠ æ‹‰ä¼¸æ ‡è®°**: 
   - åœ¨å›¾ç‰‡**é¡¶éƒ¨è¾¹ç¼˜**æ·»åŠ é»‘è‰²åƒç´ æ ‡è®°æ°´å¹³æ‹‰ä¼¸åŒºåŸŸ
   - åœ¨å›¾ç‰‡**å·¦ä¾§è¾¹ç¼˜**æ·»åŠ é»‘è‰²åƒç´ æ ‡è®°å‚ç›´æ‹‰ä¼¸åŒºåŸŸ
3. **æ·»åŠ å†…å®¹æ ‡è®°**:
   - åœ¨å›¾ç‰‡**å³ä¾§è¾¹ç¼˜**æ·»åŠ é»‘è‰²åƒç´ æ ‡è®°å†…å®¹åŒºåŸŸçš„å‚ç›´èŒƒå›´
   - åœ¨å›¾ç‰‡**åº•éƒ¨è¾¹ç¼˜**æ·»åŠ é»‘è‰²åƒç´ æ ‡è®°å†…å®¹åŒºåŸŸçš„æ°´å¹³èŒƒå›´
4. **ç¡®ä¿å››è§’é€æ˜**: å›¾ç‰‡çš„å››ä¸ªè§’å¿…é¡»ä¸ºé€æ˜åƒç´ 
5. **ä¿å­˜æ–‡ä»¶**: æ–‡ä»¶åå¿…é¡»ä»¥`.9.png`ç»“å°¾

### ä½¿ç”¨å·¥å…·çš„æ­¥éª¤

1. **ä¸Šä¼ æ–‡ä»¶**: å°†åˆ¶ä½œå¥½çš„.9å›¾æ‹–æ‹½åˆ°ä¸Šä¼ åŒºåŸŸæˆ–ç‚¹å‡»é€‰æ‹©æ–‡ä»¶
2. **æŸ¥çœ‹éªŒè¯ç»“æœ**: å·¥å…·ä¼šè‡ªåŠ¨æ£€æŸ¥æ ¼å¼æ˜¯å¦æ­£ç¡®
3. **é¢„è§ˆæ•ˆæœ**: åœ¨é¢„è§ˆæ ‡ç­¾é¡µä¸­æŸ¥çœ‹ä¸åŒå°ºå¯¸ä¸‹çš„æ‹‰ä¼¸æ•ˆæœ
4. **æµ‹è¯•æ–‡æœ¬**: è¾“å…¥æ–‡æœ¬æŸ¥çœ‹å®é™…ä½¿ç”¨æ•ˆæœ
5. **ä¸‹è½½ç¼–è¯‘æ–‡ä»¶**: ä¸‹è½½å¯åœ¨Androidé¡¹ç›®ä¸­ç›´æ¥ä½¿ç”¨çš„ç¼–è¯‘åæ–‡ä»¶

## ğŸ› ï¸ æœ¬åœ°å¼€å‘

### ç¯å¢ƒè¦æ±‚

- Node.js 18+ 
- pnpm (æ¨è) æˆ– npm

### å®‰è£…å’Œè¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/ninepatch-tool.git
cd ninepatch-tool

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm run build

# é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
pnpm run preview
```

### é¡¹ç›®ç»“æ„

```
ninepatch-tool/
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/         # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/            # UIåŸºç¡€ç»„ä»¶ (shadcn/ui)
â”‚   â”‚   â”œâ”€â”€ FileUploader.jsx
â”‚   â”‚   â”œâ”€â”€ PreviewPanel.jsx
â”‚   â”‚   â””â”€â”€ ValidationPanel.jsx
â”‚   â”œâ”€â”€ lib/               # æ ¸å¿ƒåº“
â”‚   â”‚   â”œâ”€â”€ pngParser.js   # PNGæ–‡ä»¶è§£æ
â”‚   â”‚   â”œâ”€â”€ ninePatchProcessor.js  # .9å›¾å¤„ç†
â”‚   â”‚   â””â”€â”€ previewRenderer.js     # é¢„è§ˆæ¸²æŸ“
â”‚   â”œâ”€â”€ App.jsx            # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ main.jsx           # åº”ç”¨å…¥å£
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ”§ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 18
- **æ„å»ºå·¥å…·**: Vite
- **æ ·å¼æ¡†æ¶**: Tailwind CSS
- **UIç»„ä»¶**: shadcn/ui
- **å›¾æ ‡åº“**: Lucide React
- **å›¾åƒå¤„ç†**: Canvas API
- **æ–‡ä»¶å¤„ç†**: File API

## ğŸ“š APIæ–‡æ¡£

### æ ¸å¿ƒç±»

#### PNGParser
PNGæ–‡ä»¶è§£æå™¨ï¼Œç”¨äºè§£æPNGæ–‡ä»¶ç»“æ„å’Œchunkæ•°æ®ã€‚

```javascript
// è§£æPNGæ–‡ä»¶
const result = await PNGParser.parseFile(file);
```

#### NinePatchProcessor  
.9å›¾å¤„ç†å™¨ï¼Œç”¨äºè§£ææº.9å›¾å’Œç¼–è¯‘ä¸ºAAPTæ ¼å¼ã€‚

```javascript
// è§£ææº.9å›¾
const ninePatchInfo = await NinePatchProcessor.parseSourceNinePatch(image, canvas);

// ç¼–è¯‘ä¸ºAAPTæ ¼å¼
const compiled = NinePatchProcessor.compileToAAP(ninePatchInfo);
```

#### PreviewRenderer
é¢„è§ˆæ¸²æŸ“å™¨ï¼Œç”¨äºæ¸²æŸ“.9å›¾çš„å„ç§é¢„è§ˆæ•ˆæœã€‚

```javascript
// æ¸²æŸ“é¢„è§ˆ
PreviewRenderer.renderPreview(ninePatchInfo, width, height, canvas);

// æ¸²æŸ“æ–‡æœ¬é¢„è§ˆ
PreviewRenderer.renderWithText(ninePatchInfo, text, canvas);
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-01-21)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ‰ å®Œæ•´çš„.9å›¾å¤„ç†åŠŸèƒ½
- ğŸ¨ ç°ä»£åŒ–ç”¨æˆ·ç•Œé¢
- ğŸ“± å“åº”å¼è®¾è®¡æ”¯æŒ
- âœ… æ ¼å¼éªŒè¯å’Œé”™è¯¯æ£€æµ‹
- ğŸ” å®æ—¶é¢„è§ˆåŠŸèƒ½

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Androidå®˜æ–¹æ–‡æ¡£](https://developer.android.com/guide/topics/graphics/drawables#nine-patch) - .9å›¾è§„èŒƒå‚è€ƒ
- [shadcn/ui](https://ui.shadcn.com/) - ä¼˜ç§€çš„UIç»„ä»¶åº“
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶
- [Lucide](https://lucide.dev/) - ç¾è§‚çš„å›¾æ ‡åº“

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- ğŸ“§ Email: your-email@example.com
- ğŸ› Issues: [GitHub Issues](https://github.com/your-username/ninepatch-tool/issues)
- ğŸ’¬ Discussions: [GitHub Discussions](https://github.com/your-username/ninepatch-tool/discussions)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼

